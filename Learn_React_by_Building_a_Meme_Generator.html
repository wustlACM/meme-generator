<!DOCTYPE html>
<html lang="en">

<head>
  <base href="https://www.freecodecamp.org/news/learn-react-by-building-a-meme-generator/">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>Learn React by Building a Meme Generator</title>
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="https://cdn.freecodecamp.org/news-assets/prism-1-16-0/prism.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdn.freecodecamp.org/news-assets/prism-1-16-0/prism-unescaped-markup.css" />

  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Roboto+Mono:400,700" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="/news/assets/built/screen.css?v=9803fdbb43" />
  <link rel="stylesheet" type="text/css" href="/news/assets/css/algolia-search.css?v=9803fdbb43" />

  <script src="https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"></script>
  <script src="https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"></script>

  <script src="https://embed.runkit.com"></script>

  <link rel="shortcut icon" href="/news/favicon.png" type="image/png" />
  <link rel="canonical" href="https://www.freecodecamp.org/news/learn-react-by-building-a-meme-generator/" />
  <meta name="referrer" content="no-referrer-when-downgrade" />
  <link rel="amphtml" href="https://www.freecodecamp.org/news/learn-react-by-building-a-meme-generator/amp/" />

  <meta property="og:site_name" content="freeCodeCamp.org" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Learn React by Building a Meme Generator" />
  <meta property="og:description"
    content="Learn React by building a simple meme generator. You type in the top and bottom text, and the app chooses a random meme image to accompany your text!" />
  <meta property="og:url" content="https://www.freecodecamp.org/news/learn-react-by-building-a-meme-generator/" />
  <meta property="og:image"
    content="https://www.freecodecamp.org/news/content/images/2019/10/o60oxupyz8cfce0cknvz.png" />
  <meta property="article:published_time" content="2019-10-23T18:29:43.000Z" />
  <meta property="article:modified_time" content="2019-10-23T18:32:52.000Z" />
  <meta property="article:tag" content="Reactjs" />
  <meta property="article:tag" content="Projects" />
  <meta property="article:tag" content="Tutorial" />

  <meta property="article:publisher" content="https://www.facebook.com/freecodecamp" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Learn React by Building a Meme Generator" />
  <meta name="twitter:description"
    content="Learn React by building a simple meme generator. You type in the top and bottom text, and the app chooses a random meme image to accompany your text!" />
  <meta name="twitter:url" content="https://www.freecodecamp.org/news/learn-react-by-building-a-meme-generator/" />
  <meta name="twitter:image"
    content="https://www.freecodecamp.org/news/content/images/2019/10/o60oxupyz8cfce0cknvz.png" />
  <meta name="twitter:label1" content="Written by" />
  <meta name="twitter:data1" content="Bob Ziroll" />
  <meta name="twitter:label2" content="Filed under" />
  <meta name="twitter:data2" content="Reactjs, Projects, Tutorial" />
  <meta name="twitter:site" content="@freecodecamp" />
  <meta name="twitter:creator" content="@bobziroll" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="638" />


  <meta name="generator" content="Ghost 2.37" />
  <link rel="alternate" type="application/rss+xml" title="freeCodeCamp.org"
    href="https://www.freecodecamp.org/news/rss/" />
  <!-- This is related to https://webmonetization.org/ -->
  <meta name="monetization" content="$ilp.uphold.com/LJmbPn7WD4JB">
  <!-- end Web Monetization tag -->
  <!-- Google Tag Manager -->

</head>

<body class="post-template tag-reactjs tag-projects tag-tutorial">

  <div class="site-wrapper">

    <div id="error-message"></div>






    <main id="site-main" class="site-main outer">
      <div class="inner">

        <article class="post-full post tag-reactjs tag-projects tag-tutorial ">

          <header class="post-full-header">
            <h1 class="post-full-title">Learn React by Building a Meme Generator</h1>
          </header>


          <figure class="post-full-image">
            <img srcset="/news/content/images/size/w300/2019/10/o60oxupyz8cfce0cknvz.png 300w,
                            /news/content/images/size/w600/2019/10/o60oxupyz8cfce0cknvz.png 600w,
                            /news/content/images/size/w1000/2019/10/o60oxupyz8cfce0cknvz.png 1000w,
                            /news/content/images/size/w2000/2019/10/o60oxupyz8cfce0cknvz.png 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="/news/content/images/size/w2000/2019/10/o60oxupyz8cfce0cknvz.png"
              alt="Learn React by Building a Meme Generator" onerror="this.style.display='none'" />
          </figure>

          <section class=" post-full-content">
            <div class="post-content">
              <!--kg-card-begin: markdown-->
              <h2 id="1creatingtheboilerplateandrenderinganappcomponent">1. Creating the boilerplate and rendering an
                App component</h2>
              <p>The first thing we need to do is to create the boilerplate code for the app. You can ignore the extra generated files. First cd into your chosen workspace folder using terminal, then set up your project by running <code>npx create-react-app meme-generator</code></a>.
                At this point, you should have 2 folders, public and src. From now on we will refer to src as the 'root' folder, every file we create will be in the 'root' folder.
                We first create index.js in 'root' as the basis of our generator. In index.js, we import
                <code>React</code> and <code>ReactDOM</code> and use <code>ReactDOM</code> to render a component called
                <code>App</code>, which we will create later. We then put the <code>App</code> component at the 'root'.
                We also import <code>App</code> from its file <code>&quot;./App&quot;</code>, which we will create
                shortly.</p>
              <pre><code class="language-js">// index.js
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));
</code></pre>
              <p>We then create our <code>App.js</code> file. In it, we create a functional component called
                <code>App</code> which, for now, returns a simple <code>&lt;h1&gt;</code>. We then export it. The
                <code>&lt;h1&gt;</code> allows us to check that the app is displaying correctly to the screen. You can delete the import of <code>App.css</code> provided by <code>create-react-app</code></p>
              <pre><code class="language-js">import React from 'react';

function App() {
  return &lt;h1&gt;Hello world!&lt;/h1&gt;;
}
export default App;
</code></pre>
              <p>The resulting output, which you can see after running <code>npm start</code>, is this:<br>
                <img src="https://miro.medium.com/max/1686/1*nQjf71dDnfwHqoT3Pw4tag.png" alt="Rendered Hello World"></p>
              <h2 id="2creatingtheheaderandmemegeneratorcomponents">2. Creating the Header and MemeGenerator components
              </h2>

              <p>Next up, we create the Header and MemeGenerator components. The Header will only display elements,
                while MemeGenerator will call to the API and retain the data in state.</p>
              <p>Let's start by creating the <code>Header.js</code> file in <code>src</code>. Since Header is a component which is only used
                to display, it should be a functional component. For now, the component should return a simple
                <code>&lt;h1&gt;</code>. After creating it, we then export Header.</p>
              <pre><code class="language-js">import React from 'react';

function Header() {
  return &lt;h1&gt;HEADER&lt;/h1&gt;;
}

export default Header;
</code></pre>
              <p>Next, we create the <code>MemeGenerator.js</code> file. As the <code>MemeGenerator</code> component
                will be holding data and making calls to an API, it needs to be a class component. We still need to
                import React, and since it is going to be a class component, we'll import <code>Component</code> as well
                (which is a <a
                  href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Import_a_single_export_from_a_module">named
                  import</a>).</p>
              <p>MemeGenerator needs a <code>constructor()</code> which calls <code>super()</code> and as it will be
                holding state, we add some empty state to it now. Like in the Header component, we render a simple
                <code>&lt;h1&gt;</code> to start with. We then export MemeGenerator.</p>
              <pre><code class="language-js">import React, { Component } from 'react';
class MemeGenerator extends Component {
  constructor() {
    super();
    this.state = {}; //empty state
  }
  render() {
    return &lt;h1&gt;MEME GENERATOR SECTION&lt;/h1&gt;;
  }
}
export default MemeGenerator;
</code></pre>
              <p>Now, we import both Header and MemeGenerator into <code>App.js</code> and create an instance of each
                one in our App component. In order to display the components correctly, we wrap them in a
                <code>&lt;div&gt;</code>.</p>
              <pre><code class="language-js">import React from 'react';
import Header from './Header';
import MemeGenerator from './MemeGenerator';

function App() {
  return (
    &lt;div&gt;
      &lt;Header /&gt;
      &lt;MemeGenerator /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
              <h2 id="3completingtheheadercomponent">3. Completing the Header component.</h2>
              <p>To complete the <code>&lt;Header&gt;</code> component, we add a trollface image by inserting an
                <code>&lt;img&gt;</code> tag and setting the src to the image's URL. We then add a
                <code>&lt;p&gt;</code> tag with the name of our app and wrap them both in the semantic HTML5
                <code>&lt;header&gt;</code> tag.</p>
              <pre><code class="language-js">function Header() {
  return (
    &lt;header&gt;
      &lt;img
        src='http://www.pngall.com/wp-content/uploads/2016/05/Trollface.png'
        alt='Problem?'
      /&gt;
      &lt;p&gt;Meme Generator&lt;/p&gt;
    &lt;/header&gt;
  );
}
</code></pre>
              <p>Now we will add CSS to the site. Personally I find CSS to be very tedious so we will provide it to you, but feel free to experiment on your own time. <a href="https://raw.githubusercontent.com/wustlACM/meme-generator/master/index.css" download>Download</a> and add index.css to 'root', then in index.js, at the top add <code>import './index.css';</code> The result is this:</p>
              <p><img src="https://miro.medium.com/max/1142/1*tQ0B2usG9sXABiSHaSeXOQ.png" alt="Rendered Header"></p>
              <p>
                With the now complete, the rest of the challenge will take place in
                <code>&lt;MemeGenerator/&gt;</code></p>
              <h2 id="4initializingstate">4. Initializing state</h2>
              <p><img src="https://miro.medium.com/max/1394/1*-rcc61OqQ7n3qtCS8gcjLg.png" alt="Initializing state task">
              </p>
              <p>We now have to initialize state so that it saves a top text, a bottom text and a random image, which is
                already supplied.</p>
              <p>To do this, we build up the empty object we placed in the <code>&lt;MemeGenerator/&gt;</code> when we
                originally built it. We initialize <code>topText</code> and <code>bottomText</code> as empty strings and
                <code>randomImg</code> as the provided URL.</p>
              <pre><code class="language-js">class MemeGenerator extends Component {
  constructor() {
    super();
    this.state = {
      topText: '',
      bottomText: '',
      randomImg: 'http://i.imgflip.com/1bij.jpg'
    };
  }
}
</code></pre>
              <h2 id="5makingtheapicall">5. Making the API call</h2>
              <p><img src="https://miro.medium.com/max/1448/1*1fSA7JfSJxQ0RnnreAH1ww.png"
                  alt="Making the API call task"></p>
              <p>Next, we make an API call to the provided URL and save the data returned (which is an array found in
                <code>response.data.memes</code>) to a new state property called <code>allMemeImgs</code>.<br>
                When we need to load data from an endpoint to use in our component, a good place to make the request is
                the <code>componentDidMount()</code> lifecycle method. This should come right after <code>render()</code> method. As soon as the component mounts, we use the
                native <code>fetch()</code> function to call to the provided URL.</p>
              <pre><code class="language-js">componentDidMount() {
  fetch(&quot;https://api.imgflip.com/get_memes&quot;)
}
</code></pre>
              <p>This returns a promise which we turn into a Javascript object with the <code>.json()</code> method.</p>
              <pre><code class="language-js">componentDidMount() {
  fetch(&quot;https://api.imgflip.com/get_memes&quot;)
    .then(response =&gt; response.json())
}
</code></pre>
              <p>Then we get the response which is useful to us by pulling the memes array from
                <code>response.data</code>.</p>
              <pre><code class="language-js">componentDidMount() {
fetch(&quot;https://api.imgflip.com/get_memes&quot;)
  .then(response =&gt; response.json())
  .then(response =&gt; {
  const { memes } = response.data
  })
}
</code></pre>
              <p>Now, we save the results to a new state property called <code>allMemeImgs</code>. To do this, we
                initialize <code>allMemeImgs</code> as an empty array.</p>
              <pre><code class="language-js">this.state = {
  topText: '',
  bottomText: '',
  randomImg: 'http://i.imgflip.com/1bij.jpg',
  allMemeImgs: []
};
</code></pre>
              <p>Now, back in <code>componentDidMount()</code>, we set state. As we are not interested in what the
                previous state was, we set <code>allMemeImgs</code> to memes.</p>
              <pre><code class="language-js">componentDidMount() {
  fetch(&quot;https://api.imgflip.com/get_memes&quot;)
    .then(response =&gt; response.json())
    .then(response =&gt; {
  const { memes } = response.data
  this.setState({ allMemeImgs: memes })
  })
}
</code></pre>
              <p>To ensure that it works, we <code>console.log()</code>, the first item, which is analagous to <code>System.out.println()</code>. The console output should look something like this:
              </p>
              <p><img src="https://miro.medium.com/max/1844/1*_Pn6VWqZsUFKMhbjVsAx-A.png" alt="console.log output"></p>
              <p>Here's an overview of the entire <code>componentDidMount()</code> function.</p>
              <pre><code class="language-js">componentDidMount() { //ensure that data is fetched at the beginning
  fetch(&quot;https://api.imgflip.com/get_memes&quot;) //call to URL
    .then(response =&gt; response.json()) //turn promise into JS object
    .then(response =&gt; {
  const { memes } = response.data //pull memes array from response.data
  console.log(memes[0]) // check data is present
  this.setState({ allMemeImgs: memes }) // set allMemeImgs state
})
}
</code></pre>
              <h2 id="6creatingtheinputform">6. Creating the input form</h2>
              <p>We now want to create a form which will eventually allow the user to input the top and bottom texts. We
                do this with an HTML <code>&lt;form&gt;</code> tag and a simple <code>&lt;button&gt;</code> which says
                'Gen'. We style it with the pre-provided CSS.</p>
              <pre><code class="language-js">render() {
  return (
    &lt;div&gt;
      &lt;form className=&quot;meme-form&quot;&gt;
        &lt;button&gt;Gen&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  )
}
</code></pre>
              <p><img src="https://miro.medium.com/max/1008/1*ruWrn2bd-PiHLu4T3sYMBg.png" alt="Rendered Gen button"></p>
              <h2 id="7addinginputfieldstotheform">7. Adding input fields to the form</h2>
              <p>Next, it is up to us to add the two input fields (one for the top text and one for the bottom text).
                The form should be a controlled form, so we will need to add all the attributes needed in order for that
                to work. We will create the <code>onChange</code> handler later.</p>
              <p>We create two input fields which both have the type <code>text</code> and appropriate name attributes
                (<code>topText</code> and <code>bottomText</code>). Rather than using labels, we use placeholders: 'Top
                Text' and 'Bottom Text'.</p>
              <p>Lastly, in order to make this a <a
                  href="https://reactjs.org/docs/forms.html#controlled-components">controlled form</a>, we set the value
                as equal to the current value in <code>state</code> with <code>{this.state.topText}</code> and
                <code>{this.state.bottomText}</code>.</p>
              <pre><code class="language-js">render() {
  return (
    &lt;div&gt;
      &lt;form className=&quot;meme-form&quot;&gt;
        &lt;input
          type=&quot;text&quot;
          name=&quot;topText&quot;
          placeholder=&quot;Top Text&quot;
          value={this.state.topText}
        /&gt;
        &lt;input
          type=&quot;text&quot;
          name=&quot;bottomText&quot;
          placeholder=&quot;Bottom Text&quot;
          value={this.state.bottomText}
        /&gt;
        &lt;button&gt;Gen&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  )
}
</code></pre>
              <h2 id="8creatingtheonchangehandler">8. Creating the onChange handler.</h2>
              <p><img src="https://miro.medium.com/max/1430/1*AO9cOxV8fnVCXxTyjQCPvw.png"
                  alt="Creating the onChange handler task"></p>
              <p>Now, we create the onChange handler, which will update the corresponding state on every change of the
                input field.</p>
              <p>First, we create a <code>handleChange()</code> function, which receives an event. Place it after <code>componentDidMount()</code> in <code>src/Header.js</code>.</p>
              <pre><code class="language-js">handleChange(event) {

}
</code></pre>
              <p>Now, we set the <code>onChange</code> of both input fields to equal <code>handleChange</code>.</p>
              <pre><code class="language-js">&lt;form className='meme-form'&gt;
  &lt;input
    type='text'
    name='topText'
    placeholder='Top Text'
    value={this.state.topText}
    onChange={this.handleChange}
  /&gt;
  &lt;input
    type='text'
    name='bottomText'
    placeholder='Bottom Text'
    value={this.state.bottomText}
    onChange={this.handleChange}
  /&gt;
  &lt;button&gt;Gen&lt;/button&gt;
&lt;/form&gt;
</code></pre>
              <p>We need to remember to bind the method in the constructor — a common gotcha for React developers.</p>
              <pre><code class="language-js">constructor() {
  super()
  this.state = {
    topText: &quot;&quot;,
    bottomText: &quot;&quot;,
    randomImg: &quot;http://i.imgflip.com/1bij.jpg&quot;,
    allMemeImgs: []
  }
  this.handleChange = this.handleChange.bind(this)
}
</code></pre>
              <p>To test the new <code>handleChange()</code> function, we add a simple <code>console.log</code>:</p>
              <pre><code class="language-js">handleChange(event) {
  console.log(&quot;Working!&quot;)
}
</code></pre>
              <p>The handler is being called, you should see the "working" message posted in the console every time you make a keystroke inside one of the boxes.<br>

              <p>Now to fill in the <code>handleChange()</code> function. To do this, we want to pull the name and value
                properties from event.target so that we can get the name of the state we are supposed to update
                (<code>topText</code> or <code>bottomText</code>) and the value which is typed into the box.</p>
              <pre><code class="language-js">handleChange(event) {
  const { name, value } = event.target
}
</code></pre>
              <p>We will now use these to update state. As we are not interested in what the previous state was, we can
                just provide an object in which we set the <code>[name]</code> to the value typed into the input field.
              </p>
              <pre><code class="language-js">handleChange(event) {
const {name, value} = event.target
this.setState({ [name]: value })
}
</code></pre>
              <h2 id="9displayingamemeimagealongsidethetopandbottomtext">9. Displaying a meme image alongside the top
                and bottom text</h2>
              <p>We now want the app to display a meme image alongside the top and bottom text. We insert an
                <code>&lt;div&gt;</code> tag underneath the <code>&lt;form&gt;</code> (but still inside the enclosing div) and set the <code>randomImg</code>
                which we initialized as its source by using <code>src={this.state.randomImg}</code>. We then add two
                <code>&lt;h2&gt;</code> tags, which display the corresponding text which is also saved in state. All of
                this is wrapped in a <code>div</code> and styled with the pre-provided <code>meme</code> class.</p>
              <pre><code class="language-js">&lt;div className='meme'&gt;
  &lt;img src={this.state.randomImg} alt='' /&gt;
  &lt;h2 className='top'&gt;{this.state.topText}&lt;/h2&gt;
  &lt;h2 className='bottom'&gt;{this.state.bottomText}&lt;/h2&gt;
&lt;/div&gt;
</code></pre>
              <p>We can now test the app by typing into the text boxes. As state is being correctly set on every
                keystroke, the text displayed on the image changes each time we type.</p>
              <p><img src="https://miro.medium.com/max/1014/1*avFJ4IjRQZhrN4gdrZHa8g.png"
                  alt="Rendered example of progress so far"></p>
              <h2 id="10displayingarandommemeimagealongsidethetopandbottomtext">10. Displaying a random meme image
                alongside the Top and Bottom text</h2>
              <p><img src="https://miro.medium.com/max/1570/1*xTuNOCWGvQV1sVuw0tgpzQ.png"
                  alt="Displaying a random meme image task"></p>
              <p>Now, we need to create a method which displays a meme image which it randomly chooses from our
                <code>allMemeImgs</code> array when the <code>Gen</code> button is clicked. The property on the chosen
                image in the array is <code>.url</code>.
                We can break this task down into smaller parts.</p>
              <p>First, we set the form's <code>onSubmit</code> to equal the name of our new method, which we will
                call <code>handleSubmit()</code>.</p>
              <p><code>&lt;form className=&quot;meme-form&quot; onSubmit={this.handleSubmit}&gt;</code></p>
              <p>We now create the <code>handleSubmit()</code> function beneath the <code>handleChange()</code> function. We
                need to call<code>event.preventDefault()</code> so that the method won't refresh the page.</p>
              <pre><code class="language-js">handleSubmit(event) {
  event.preventDefault()
}
</code></pre>
              <p>We also need to bind <code>handleSubmit()</code> in our <code>constructor()</code>.</p>
              <pre><code class="language-js">constructor() {
  super()
  this.state = {
    topText: &quot;&quot;,
    bottomText: &quot;&quot;,
    randomImg: &quot;http://i.imgflip.com/1bij.jpg&quot;,
    allMemeImgs: []
  }
  this.handleChange = this.handleChange.bind(this)
  this.handleSubmit = this.handleSubmit.bind(this)
}
</code></pre>
              <p>Now, we need to get a random number, get the meme from that index and set <code>randomImg</code> to the
                <code>.url</code> of the random item.</p>
              <pre><code class="language-js">handleSubmit(event) {
  event.preventDefault()
  // get a random int (index in the array)
  // get the meme from that index
  // set `randomImg` to the `.url` of the random item I grabbed
}
</code></pre>
              <p>To get a random number, we use <code>Math.floor(Math.random)</code>. To make sure that it is one of the
                indices in our <code>allMemeImgs</code> array, we multiply by the length of the array.</p>
              <pre><code class="language-js">const randNum = Math.floor(Math.random() * this.state.allMemeImgs.length);
</code></pre>
              <p>We now set <code>randMemeImg</code> to equal <code>allMemeImgs</code>, with the index of
                <code>allMemeImgs</code> as the <code>randNum</code> we just got. We then add <code>.url</code> to the
                end of it.</p>
              <pre><code class="language-js">const randMemeImg = this.state.allMemeImgs[randNum].url;
</code></pre>
              <p>Now, all we need to do is update the state by updating the randomImg property with
                <code>randMemeImg</code>.</p>
              <pre><code class="language-js">this.setState({ randomImg: randMemeImg });
</code></pre>
              <p>Our completed <code>handleSubmit()</code> function looks like this:</p>
              <pre><code class="language-js">handleSubmit(event) {
  event.preventDefault()
  const randNum = Math.floor(Math.random() * this.state.allMemeImgs.length)
  const randMemeImg = this.state.allMemeImgs[randNum].url
  this.setState({ randomImg: randMemeImg })
}
</code></pre>
              <h2 id="completedmemegenerator">Completed Meme Generator</h2>
              <p><img src="https://miro.medium.com/max/1008/1*ysbU1jxRIcNYCeZmhBdN6g.png" alt="Working App"></p>
              <p>We now have completed the meme generator app, and get a different image every time we hit the
                <code>Gen</code> button, which is then overlaid with the text we input.</p>
              <p>To further our learning, we could play with code and see whether we can improve it, or try to get
                images from a different API. For some really heavy-duty practice, we could even delete all the code and
                try building it again from scratch.</p>
              <p>Congratulations on following through the tutorial and learning all the skills used in this project.</p>
            </div>
  
          </section>
        </article>
      </div>
    </main>
</body>
</html>
